<!-- <p>channel works!</p>
<form>
    <input type="text" name="message" placeholder="type here...">
</form> -->

<ng-container *ngIf="chat$ | async as chat">

    <div class="top">
        <p>Big Chat</p>
    </div>

    <div class="chat">

        <div class="msg" *ngFor="let msg of chat; trackBy: trackByCreated">
            <!-- {{ msg|json }} -->
            <div class="user">
                <img [src]="msg.user?.photoURL">
                <div><span>{{ msg.user?.displayName }}</span></div>
            </div>

            <p>{{ msg.message }}</p>

        </div>

    </div>

    <div class="form">
        <input [(ngModel)]="newMsg" (keydown.enter)="submit(chat.id)">

        <button (click)="submit(chat.id)">Send</button>
    </div>

</ng-container>